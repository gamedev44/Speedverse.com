<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SpeedVerse.com - HomePage | HQ</title>
  
  <!-- FontAwesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
  <!-- Global CSS -->
  <link rel="stylesheet" href="assets/styles/style.css">
</head>
<body>
  <header>
    <h1>SpeedVerse</h1>
    <nav class="global-nav">
      <a href="home.html">Home</a>
      <a href="garage.html">Garage</a>
      <a href="media.html">Media</a>
      <a href="updates.html">Updates</a>
    </nav>
  </header>

  <div class="search-container" id="searchBox">
    <input type="text" class="search-input" id="searchBar" placeholder="Search for a car..." onkeypress="handleKeyPress(event)">
    <button class="search-btn" onclick="toggleSearch()">
      <i class="fa-brands fa-searchengin"></i>
    </button>
  </div>

  <nav class="main-nav">
    <a href="#" onclick="setMainActive(this); loadDatabase('HomePageData.json')">Home Page</a>
  </nav>

  <!-- This div will be populated dynamically -->
  <div id="main-content"></div>

  <script>
    let currentMainNav = null;
    let currentCategoryNav = null;

    async function loadDatabase(dbFile) {
      const response = await fetch(dbFile);
      const data = await response.json();
      let homeHTML = "";

      if (data.Homepage) {
        homeHTML += `<section class="homepage-header">
                      <h2>${data.Homepage.WelcomeTitle}</h2>
                      <p>${data.Homepage.WelcomeSubtitle}</p>
                    </section>`;
      }

      if (data.HeroSection) {
        homeHTML += `<section class="hero-section">
                      <img src="${data.HeroSection.HeroImage}" alt="Hero Banner">
                      <p>${data.HeroSection.HeroText}</p>
                    </section>`;
      }

      if (data.MainContent) {
        homeHTML += `<section class="main-content">
                      <h2>${data.MainContent.ContentHeader1}</h2>
                      <p>${data.MainContent.ContentText1}</p>
                      <h2>${data.MainContent.ContentHeader2}</h2>
                      <p>${data.MainContent.ContentText2}</p>
                      <h2>${data.MainContent.ContentHeader3}</h2>
                      <p>${data.MainContent.ContentText3}</p>
                    </section>`;
      }

      if (data.MediaGallery) {
        homeHTML += `<section class="media-gallery">`;
        for (let i = 1; i <= data.MediaGallery.TotalImages; i++) {
          let key = "Image" + i;
          homeHTML += `<img src="${data.MediaGallery[key]}" alt="Media ${i}">`;
        }
        homeHTML += `</section>`;
      }

      if (data.VideoSpotlight) {
        homeHTML += `<section class="video-spotlight">
                      <video controls>
                        <source src="${data.VideoSpotlight.Video1}" type="video/mp4">
                      </video>
                      <p>${data.VideoSpotlight.VideoText1}</p>
                    </section>`;
      }

      if (data.CallToAction) {
        homeHTML += `<section class="call-to-action">`;
        for (let key in data.CallToAction) {
          if (data.CallToAction.hasOwnProperty(key)) {
            let parts = data.CallToAction[key].split("|");
            homeHTML += `<a href="${parts[1]}">${parts[0]}</a>`;
          }
        }
        homeHTML += `</section>`;
      }

      // Insert the dynamic content into the placeholder div.
      document.getElementById("main-content").innerHTML = homeHTML;

      if (data.Footer) {
        let footerHTML = `<footer>`;
        for (let key in data.Footer) {
          if (data.Footer.hasOwnProperty(key)) {
            let parts = data.Footer[key].split("|");
            footerHTML += `<a href="${parts[1]}">${parts[0]}</a> `;
          }
        }
        footerHTML += `</footer>`;
        // Append footer to the body.
        document.body.innerHTML += footerHTML;
      }
    }

    function toggleSearch() {
      let searchBox = document.getElementById("searchBox");
      searchBox.classList.toggle("expanded");
      document.getElementById("searchBar").focus();
    }

    function setMainActive(element) {
      if (currentMainNav) {
        currentMainNav.classList.remove("active");
      }
      element.classList.add("active");
      currentMainNav = element;
    }

    function setCategoryActive(element) {
      if (currentCategoryNav) {
        currentCategoryNav.classList.remove("active");
      }
      element.classList.add("active");
      currentCategoryNav = element;
    }
  </script>
</body>
<footer> discord links | sitemap | info | about us | Contact | Privacy Policy | EULA | Copywrite Info
</html>
